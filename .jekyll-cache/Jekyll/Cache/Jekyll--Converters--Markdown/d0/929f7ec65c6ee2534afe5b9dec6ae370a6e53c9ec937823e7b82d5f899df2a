I"/<h1 id="oracle">Oracle</h1>

<h1 id="è¡¨ç»“æ„æ“ä½œ">è¡¨ç»“æ„æ“ä½œ</h1>

<h2 id="åˆ›å»ºè¡¨">åˆ›å»ºè¡¨</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">create</span> <span class="k">table</span> <span class="n">tableName</span>
    <span class="p">(</span><span class="n">id</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span> <span class="k">primary</span> <span class="k">key</span><span class="p">,</span>
    <span class="n">name</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">36</span><span class="p">),</span>
    <span class="n">age</span> <span class="n">number</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span>
    <span class="n">createDate</span> <span class="nb">date</span><span class="p">,</span>
    <span class="n">modifyDate</span> <span class="nb">date</span><span class="p">);</span>

<span class="c1">--    åˆ›å»ºä¸€å¼ è¡¨ï¼Œè¡¨åï¼štableName, </span>
<span class="c1">--    å­—æ®µ id å­—ç¬¦ä¸²ç±»å‹ ä¸»é”®ï¼Œname å­—ç¬¦ä¸²ç±»å‹æ™®é€šå­—æ®µï¼Œage æ•°å­—ç±»å‹ï¼ŒcreateDate åˆ›å»ºæ—¥æœŸï¼ŒmodifyDate ä¿®æ”¹æ—¥æœŸ'</span>
</code></pre></div></div>

<h2 id="æ·»åŠ è¡¨å­—æ®µ">æ·»åŠ è¡¨å­—æ®µ</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">alter</span> <span class="k">table</span> <span class="n">tableName</span> <span class="k">add</span> <span class="p">(</span><span class="n">address</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="k">default</span> <span class="s1">'æ— '</span><span class="err">ï¼Œ</span><span class="n">country</span> <span class="n">varchar2</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="k">default</span> <span class="s1">''</span><span class="p">);</span>    
<span class="c1">--ç»™è¡¨æ·»åŠ  address å’Œ countryå­—æ®µ éƒ½æ˜¯32ä½é•¿åº¦çš„å­—ç¬¦ä¸²ç±»å‹</span>
</code></pre></div></div>

<h2 id="æ·»åŠ å­—æ®µæè¿°">æ·»åŠ å­—æ®µæè¿°</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">COMMENT</span> <span class="k">ON</span> <span class="k">COLUMN</span> <span class="n">tableName</span><span class="p">.</span><span class="n">address</span> <span class="k">IS</span> <span class="s1">'åœ°å€'</span><span class="p">;</span>
</code></pre></div></div>

<h2 id="åˆ é™¤è¡¨å­—æ®µ">åˆ é™¤è¡¨å­—æ®µ</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">alter</span> <span class="k">table</span> <span class="n">tableName</span> <span class="k">drop</span> <span class="k">column</span> <span class="n">country</span><span class="p">;</span>    <span class="c1">--åˆ é™¤è¡¨çš„countryå­—æ®µ</span>
</code></pre></div></div>

<h1 id="è¡¨æ•°æ®æ“ä½œ">è¡¨æ•°æ®æ“ä½œ</h1>
<p>sqlè¡¨çš„è®¾è®¡æ˜¯å¾ˆé‡è¦çš„ï¼Œæ¶‰åŠä¸šåŠ¡ä¸æ‹“å±•åŠåæœŸç»´æŠ¤ï¼Œä½†æ˜¯æ ¸å¿ƒåº”è¯¥æ˜¯ï¼šç®€å•</p>

<h2 id="æŸ¥è¯¢è¡¨å†…å®¹">æŸ¥è¯¢è¡¨å†…å®¹</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">tableName</span><span class="p">;</span>    <span class="c1">--æŸ¥è¯¢è¡¨æ‰€æœ‰å†…å®¹</span>
<span class="k">select</span> <span class="n">name</span><span class="p">,</span><span class="n">age</span> <span class="k">from</span> <span class="n">tableName</span><span class="p">;</span>    <span class="c1">--æŸ¥è¯¢è¡¨nameå­—æ®µå’Œageå­—æ®µ</span>
</code></pre></div></div>

<h3 id="å­æŸ¥è¯¢">å­æŸ¥è¯¢</h3>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> 
    <span class="n">a</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="n">a</span><span class="p">.</span><span class="n">age</span> <span class="p">,</span>   
    <span class="p">(</span><span class="k">select</span> <span class="n">b</span><span class="p">.</span><span class="n">hobby</span> <span class="k">from</span> <span class="n">kid</span> <span class="n">b</span> <span class="k">where</span> <span class="n">b</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">name</span> <span class="k">and</span> <span class="n">rownum</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="n">hobby</span> 
<span class="k">from</span>  <span class="n">student</span> <span class="n">a</span>  <span class="k">where</span>  <span class="n">a</span><span class="p">.</span><span class="n">id</span> <span class="o">=</span> <span class="s1">'id'</span>
</code></pre></div></div>

<h2 id="æŸ¥è¯¢æ€»æ•°">æŸ¥è¯¢æ€»æ•°</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="k">count</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">from</span> <span class="n">tableName</span><span class="p">;</span>    <span class="c1">-- ä¸ç»Ÿè®¡ null</span>
<span class="k">select</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">from</span> <span class="n">tableName</span><span class="p">;</span>    <span class="c1">-- ç»Ÿè®¡ null</span>
</code></pre></div></div>

<h2 id="æŒ‰æ¡ä»¶æŸ¥è¯¢-where">æŒ‰æ¡ä»¶æŸ¥è¯¢ where</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">tableName</span> <span class="k">where</span> <span class="n">age</span> <span class="o">&gt;=</span> <span class="mi">18</span><span class="p">;</span>    <span class="c1">--æŸ¥è¯¢è¡¨ä¸­ageå¤§äº18çš„æ‰€æœ‰æ•°æ®</span>
</code></pre></div></div>

<h2 id="æ’å…¥æ•°æ®">æ’å…¥æ•°æ®</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">insert</span> <span class="k">into</span> <span class="n">tableName</span><span class="p">(</span><span class="n">field1</span><span class="p">,</span><span class="n">field2</span><span class="p">)</span> <span class="k">values</span><span class="p">(</span><span class="s1">'value1'</span><span class="p">,</span><span class="s1">'value2'</span><span class="p">);</span>
</code></pre></div></div>

<h2 id="æäº¤">æäº¤</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">commit</span>
</code></pre></div></div>

<h2 id="æ’¤å›">æ’¤å›</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">rollback</span>
</code></pre></div></div>

<h2 id="ç»¼åˆæŸ¥è¯¢">ç»¼åˆæŸ¥è¯¢</h2>

<h3 id="å¹¶è¡ŒæŸ¥è¯¢">å¹¶è¡ŒæŸ¥è¯¢</h3>
<p>å¤šè¡¨æŸ¥è¯¢å¹¶é›†</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="n">T1</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="n">T1</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="n">T1</span><span class="p">.</span><span class="n">age</span> <span class="k">from</span> <span class="n">table1</span> <span class="n">T1</span> <span class="k">where</span> <span class="n">T2</span><span class="p">.</span><span class="n">age</span> <span class="o">&lt;</span> <span class="mi">16</span>
<span class="k">union</span> 
<span class="k">select</span> <span class="n">T2</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="n">T2</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="n">T2</span><span class="p">.</span><span class="n">age</span> <span class="k">from</span> <span class="n">table2</span> <span class="n">T2</span> <span class="k">where</span> <span class="n">T2</span><span class="p">.</span><span class="n">age</span> <span class="o">&lt;</span><span class="mi">16</span>
<span class="k">union</span> 
<span class="k">select</span> <span class="n">T3</span><span class="p">.</span><span class="n">id</span><span class="p">,</span><span class="n">T3</span><span class="p">.</span><span class="n">name</span><span class="p">,</span><span class="n">T3</span><span class="p">.</span><span class="n">age</span> <span class="k">from</span> <span class="n">table3</span> <span class="n">T3</span> <span class="k">where</span> <span class="n">T3</span><span class="p">.</span><span class="n">age</span> <span class="o">&lt;</span> <span class="mi">16</span>
<span class="c1">-- è¿™é‡Œ ä¸‰å¼ ä¸åŒçš„è¡¨ï¼Œåªéœ€è¦ä¸‰å¼ è¡¨éƒ½æœ‰ id,name,age å­—æ®µ(å­—ç¬¦é›†ä¹Ÿè¦ç›¸åŒï¼ŒæŸ¥è¯¢ç»“æœéœ€è¦ç»Ÿä¸€ç±»å‹)ï¼Œå°±å¯ä»¥æŸ¥ä¸‰å¼ è¡¨çš„å¹¶é›†</span>
</code></pre></div></div>
<h3 id="union-all--ä¸-union-åŒºåˆ«">union all  ä¸ union åŒºåˆ«</h3>
<p>ä¸¤ä¸ªéƒ½æ˜¯æŸ¥è¯¢å¤šè¡¨çš„å¹¶é›† ï¼Œä½†æ˜¯ union å¯ä»¥é‡å¤æ•°æ®ï¼Œ union ä¸ä¼šé‡å¤</p>

<h3 id="to_char-to_nchar">to_char to_nchar</h3>
<p>å­—ç¬¦é›†ä¸åŒ¹é…æ—¶å¯ç”¨è§£å†³æ–¹æ¡ˆ</p>

<h2 id="ä½¿ç”¨trimå‡½æ•°å»é™¤å­—ç¬¦ä¸²çš„ç©ºæ ¼-">ä½¿ç”¨trimå‡½æ•°å»é™¤å­—ç¬¦ä¸²çš„ç©ºæ ¼â€™ â€˜</h2>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> <span class="k">trim</span><span class="p">(</span><span class="s1">' ss'</span><span class="p">)</span> <span class="k">from</span> <span class="n">dual</span><span class="p">;</span>
</code></pre></div></div>
<p>æŸ¥è¯¢ç»“æœä¸ºâ€™ssâ€™ è€Œä¸æ˜¯â€™ ssâ€™</p>

<h2 id="case-ç”¨æ³•">case ç”¨æ³•</h2>

<p>æœ‰ä¸¤ç§ç”¨æ³•</p>

<h3 id="æ¯”è¾ƒå€¼">æ¯”è¾ƒå€¼</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> 
	<span class="n">T</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
	<span class="n">T</span><span class="p">.</span><span class="n">area</span><span class="p">,</span>
	<span class="k">case</span> <span class="n">T</span><span class="p">.</span><span class="n">age</span>
		<span class="k">when</span> <span class="s1">'18'</span> <span class="k">then</span> <span class="s1">'åˆšæˆå¹´'</span>
		<span class="k">when</span> <span class="s1">'20'</span> <span class="k">then</span> <span class="s1">'åˆš20'</span>  
		<span class="k">else</span> <span class="n">T</span><span class="p">.</span><span class="n">age</span>
	<span class="k">end</span>
	<span class="k">as</span> <span class="n">age</span><span class="p">,</span>
	<span class="k">from</span> <span class="n">student</span> <span class="n">T</span>
</code></pre></div></div>

<h3 id="ä½œä¸ºæœç´¢æ¡ä»¶">ä½œä¸ºæœç´¢æ¡ä»¶</h3>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">select</span> 
	<span class="n">T</span><span class="p">.</span><span class="n">name</span><span class="p">,</span>
	<span class="n">T</span><span class="p">.</span><span class="n">area</span><span class="p">,</span>
	<span class="k">case</span> 
		<span class="k">when</span> <span class="n">T</span><span class="p">.</span><span class="n">age</span> <span class="o">=</span><span class="s1">'18'</span> <span class="k">then</span> <span class="s1">'åˆšæˆå¹´'</span>
		<span class="k">else</span> <span class="n">T</span><span class="p">.</span><span class="n">age</span>
	<span class="k">end</span>
	<span class="k">as</span> <span class="n">age</span><span class="p">,</span>
	<span class="k">from</span> <span class="n">student</span> <span class="n">T</span>
</code></pre></div></div>

:ET