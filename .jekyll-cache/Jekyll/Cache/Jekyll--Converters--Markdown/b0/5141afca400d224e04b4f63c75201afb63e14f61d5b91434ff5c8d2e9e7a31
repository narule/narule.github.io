I"é4<h1 id="java-object">Java Object</h1>

<h2 id="è¶…ç±»object">è¶…ç±»Object</h2>

<blockquote>
  <p>javaä¸­ï¼Œæ‰€æœ‰ç±»éƒ½é»˜è®¤ç»§æ‰¿ä¸€ä¸ªè¶…ç±»ï¼Œæœ€é¡¶å±‚ç±»ï¼Œå°±æ˜¯Objectç±»ã€‚â€™â€™</p>
</blockquote>

<p>jdkç±»æ–‡ä»¶æè¿°</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
 * Class {@code Object} is the root of the class hierarchy.
 * Every class has {@code Object} as a superclass. All objects,
 * including arrays, implement the methods of this class.
 *
 * @author  unascribed
 * @see     java.lang.Class
 * @since   JDK1.0
 */</span>
</code></pre></div></div>
<p>ä¸Šé¢æåˆ°ï¼ŒåŒ…æ‹¬æ•°ç»„ï¼Œéƒ½å®ç°äº†Objectçš„æ–¹æ³•ã€‚</p>

<p>ä¸ç®¡æ˜¯æ–°å»ºçš„ç±»ï¼Œæˆ–è€…ç»§æ‰¿çš„ç±»ï¼Œé¡¶ç±»è¿˜æ˜¯objectå¯¹è±¡ã€‚å¦‚æœç¼–å†™è‡ªå®šä¹‰ç±»æ²¡æœ‰ extends çˆ¶ç±»ï¼Œé‚£ä¹ˆçˆ¶ç±»å°±æ˜¯Object</p>

<p>æ—¢ç„¶Objectæ˜¯ä¸€ä¸ªé¡¶éƒ¨è¶…ç±»ï¼Œè‡ªç„¶ç‰¹æ®Šé‡è¦ï¼Œå¹¶ä¸”å…¬å¼€ç±»æ–¹æ³•ï¼Œå…¶ä»–ç±»ä¹Ÿæœ‰ï¼Œéœ€è¦äº†è§£</p>

<h2 id="å…¬å…±æ–¹æ³•">å…¬å…±æ–¹æ³•</h2>
<h3 id="getclass">getClass()</h3>

<p>å¯¹è±¡è°ƒç”¨æ­¤æ–¹æ³•ï¼Œè·å–å¯¹è±¡çš„ç±»æ–‡ä»¶å¯¹è±¡ï¼Œå³Classå®ä¾‹å¯¹è±¡</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="nc">Class</span><span class="o">&lt;?&gt;</span> <span class="n">getClass</span><span class="o">();</span> <span class="c1">//native æ ‡è¯†ï¼Œè¯´æ˜æ˜¯è°ƒç”¨jvmåº•å±‚æ–¹æ³•(Cè¯­è¨€) final</span>
</code></pre></div></div>

<h3 id="hashcode">hashCode()</h3>

<p>è·å–å“ˆå¸Œç æ–¹æ³•ï¼Œjavaä¸­åŒºåˆ†å¯¹è±¡ï¼Œåˆ†é…å¯¹è±¡ä½ç½®ï¼Œéœ€è¦ç”¨åˆ°ï¼Œé»˜è®¤åº”è¯¥æ˜¯ä¸å¯¹è±¡å†…å­˜åœ°å€æœ‰å…³çš„å€¼ï¼Œä¸”å”¯ä¸€ã€‚</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">native</span> <span class="kt">int</span> <span class="nf">hashCode</span><span class="o">();</span> <span class="c1">//native å¯ä»¥é‡å†™</span>
</code></pre></div></div>

<h3 id="equalsobject-object">equals(Object object)</h3>

<p>ç”¨äºåˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ï¼Œå­ç±»å¯ä»¥é‡å†™è‡ªå®šä¹‰</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">equals</span><span class="o">(</span><span class="nc">Object</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="o">(</span><span class="k">this</span> <span class="o">==</span> <span class="n">obj</span><span class="o">);</span> <span class="c1">//è¿™é‡Œ == åˆ¤æ–­çš„æ˜¯ä¸¤ä¸ªå¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€å€¼</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="tostring">toString()</h3>

<p>å¯¹è±¡æ ‡å¿—æ–¹æ³•ï¼Œé»˜è®¤æ˜¯ç±»å+@+hashCode()å€¼ï¼Œå¯é‡å†™è‡ªå®šä¹‰</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="nf">getClass</span><span class="o">().</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">"@"</span> <span class="o">+</span> <span class="nc">Integer</span><span class="o">.</span><span class="na">toHexString</span><span class="o">(</span><span class="n">hashCode</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>

<h3 id="wait">wait()</h3>

<p>javaçº¿ç¨‹ç›¸å…³æ–¹æ³•ï¼Œåœ¨å¤šçº¿ç¨‹åœºæ™¯ï¼Œcpuèµ„æºåˆ†é…é—®é¢˜ä¸Šä½¿ç”¨ï¼Œå¯ä½¿å½“å‰çº¿ç¨‹ç­‰å¾…
ï¼ˆæ­é…synchronizeä½¿ç”¨ï¼‰ã€‚è°ƒç”¨waitæ—¶ï¼Œçº¿ç¨‹ä¼šé‡Šæ”¾å¯¹åº”çš„é”èµ„æº
wait(long timeout) ä¸€æ ·ï¼Œå°±æ˜¯å¯ä»¥è®¾ç½®waitæ—¶é—´ï¼Œæ›´ç»†èŠ‚ï¼Œæœºåˆ¶æ˜¯ä¸€æ ·çš„ã€‚ wait() åˆ™è°ƒç”¨ wait(0);</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">wait</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span> <span class="o">{</span>
        <span class="n">wait</span><span class="o">(</span><span class="mi">0</span><span class="o">);</span>
<span class="o">}</span>	
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">wait</span><span class="o">(</span><span class="kt">long</span> <span class="n">timeout</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">InterruptedException</span><span class="o">;</span> <span class="c1">//native &amp; final</span>
</code></pre></div></div>

<h3 id="notify">notify()</h3>

<p>ä¸wait()æ–¹æ³•å¯¹åº”ï¼Œé”èµ„æºï¼Œè¯•å›¾å”¤é†’å…¶ä»–wait çº¿ç¨‹ï¼ˆæŸä¸€ä¸ªï¼‰,notifyAll() åˆ™æ˜¯å”¤é†’æ‰€æœ‰ç­‰å¾…çº¿ç¨‹</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="kd">native</span> <span class="kt">void</span> <span class="nf">notify</span><span class="o">();</span>  <span class="c1">//native &amp; final</span>
</code></pre></div></div>

<h4 id="ç¤ºä¾‹">ç¤ºä¾‹</h4>

<p>å¯åŠ¨å¤šä¸ªçº¿ç¨‹ï¼ŒæŒ‰ç…§é¢„å®šé¡ºåºå¯åŠ¨ï¼ˆæ•°å€¼å¤§çš„ä¼˜å…ˆå¯åŠ¨ï¼Œé€šè¿‡ wait å’Œ notifyè¾¾åˆ°æ§åˆ¶æ•ˆæœï¼‰</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="nn">javabasis.lang</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">extends</span> <span class="nc">Thread</span><span class="o">{</span>

	
	<span class="kd">private</span> <span class="kd">static</span> <span class="nc">Object</span> <span class="n">lock</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Object</span><span class="o">();</span> <span class="c1">//é”å¯¹è±¡</span>
	
	<span class="kd">private</span> <span class="kd">static</span> <span class="kd">volatile</span> <span class="kt">int</span> <span class="n">threshold</span><span class="o">;</span>  <span class="c1">// çº¿ç¨‹å¯åŠ¨é˜ˆå€¼</span>
	
	
	<span class="kd">private</span> <span class="kt">int</span> <span class="n">num</span><span class="o">;</span>  <span class="c1">//å¯¹è±¡æ ‡è¯†</span>

	<span class="kd">public</span> <span class="nf">MyThread</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span> <span class="o">{</span> <span class="c1">//æœ‰å‚æ„é€ </span>
		<span class="kd">super</span><span class="o">();</span>
		<span class="k">this</span><span class="o">.</span><span class="na">num</span> <span class="o">=</span> <span class="n">num</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">int</span> <span class="nf">getNum</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">num</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setNum</span><span class="o">(</span><span class="kt">int</span> <span class="n">num</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">num</span> <span class="o">=</span> <span class="n">num</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="cm">/*
	 * é‡å†™çº¿ç¨‹runæ–¹æ³•
	 */</span>
	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
		<span class="kd">synchronized</span> <span class="o">(</span><span class="n">lock</span><span class="o">)</span> <span class="o">{</span>
			
			<span class="k">while</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">num</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// æ•°å€¼å°äºé˜ˆå€¼ï¼Œä¸èƒ½æ‰§è¡Œä»»åŠ¡ï¼Œè¿›å…¥ç­‰å¾…çŠ¶æ€</span>
				<span class="k">try</span> <span class="o">{</span>
					<span class="n">lock</span><span class="o">.</span><span class="na">wait</span><span class="o">();</span>
				<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="nc">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
					<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
				<span class="o">}</span>
			<span class="o">}</span>
			<span class="n">threshold</span> <span class="o">--;</span> <span class="c1">// æ²¡å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡ï¼Œé˜ˆå€¼å‡ä¸€</span>
			<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"..&gt;"</span> <span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">getName</span><span class="o">()</span> <span class="o">+</span> <span class="s">":num="</span><span class="o">+</span> <span class="k">this</span><span class="o">.</span><span class="na">num</span> <span class="o">+</span><span class="s">"*æ‰§è¡Œä»»åŠ¡"</span><span class="o">);</span>
			<span class="n">lock</span><span class="o">.</span><span class="na">notifyAll</span><span class="o">();</span> <span class="c1">//å”¤é†’å…¶ä»–ç­‰å¾…çº¿ç¨‹(ä¸locké”å…³è”çš„çº¿ç¨‹)</span>
		<span class="o">}</span>
	<span class="o">}</span>
	
	
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="kt">int</span> <span class="n">h</span> <span class="o">=</span> <span class="mi">31</span><span class="o">;</span> 
		<span class="n">threshold</span> <span class="o">=</span> <span class="n">h</span> <span class="o">-</span> <span class="mi">1</span><span class="o">;</span>  <span class="c1">//é˜ˆå€¼ä¸º30</span>
		<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">h</span><span class="o">;</span> <span class="n">i</span> <span class="o">++)</span> <span class="o">{</span>
			<span class="k">new</span> <span class="nf">MyThread</span><span class="o">(</span><span class="n">i</span><span class="o">).</span><span class="na">start</span><span class="o">();</span>  <span class="c1">//å¯åŠ¨çº¿ç¨‹</span>
		<span class="o">}</span>
	<span class="o">}</span>
	
<span class="o">}</span>

<span class="cm">/*æ§åˆ¶å°è¾“å‡ºç»“æœ
..&gt;Thread-30:num=30*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-29:num=29*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-28:num=28*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-27:num=27*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-26:num=26*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-25:num=25*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-24:num=24*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-23:num=23*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-22:num=22*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-21:num=21*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-20:num=20*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-19:num=19*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-18:num=18*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-17:num=17*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-16:num=16*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-15:num=15*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-14:num=14*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-13:num=13*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-12:num=12*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-11:num=11*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-10:num=10*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-9:num=9*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-8:num=8*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-7:num=7*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-6:num=6*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-5:num=5*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-4:num=4*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-3:num=3*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-2:num=2*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-1:num=1*æ‰§è¡Œä»»åŠ¡
..&gt;Thread-0:num=0*æ‰§è¡Œä»»åŠ¡

*/</span>
</code></pre></div></div>

<h3 id="clone">clone()</h3>

<p>å¯¹è±¡å…‹éš†æ–¹æ³•ï¼Œæ˜¯jvmçš„nativeæ–¹æ³•ï¼Œæ›´å…·å¯¹è±¡å­—èŠ‚å¤åˆ¶ï¼ŒçœŸæ­£éœ€è¦cloneçš„æ—¶å€™ï¼Œéœ€è¦å®ç°CloneAbleæ¥å£ï¼Œé‡å†™Objectçš„clone()æ–¹æ³•</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protected</span> <span class="kd">native</span> <span class="nc">Object</span> <span class="nf">clone</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">CloneNotSupportedException</span><span class="o">;</span>  
</code></pre></div></div>

<h3 id="finalize">finalize()</h3>

<p>ä¸jvmå†…å­˜å›æ”¶æœ‰å…³çš„æ–¹æ³•</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">protected</span> <span class="kt">void</span> <span class="nf">finalize</span><span class="o">()</span> <span class="kd">throws</span> <span class="nc">Throwable</span> <span class="o">{</span> <span class="o">}</span>
</code></pre></div></div>

<p>å®é™…å¼€å‘ä¸­ç”¨åˆ°æ¯”è¾ƒå°‘ï¼Œæƒ³äº†è§£finalizeæ›´å¤šï¼Œå¯ä»¥æŸ¥é˜…èµ„æ–™</p>

<p>https://www.cnblogs.com/langtianya/p/4401062.html</p>
:ET